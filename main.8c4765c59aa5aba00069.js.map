{"version":3,"sources":["webpack:///./refs/refs.js","webpack:///./index.js"],"names":["link","list","document","querySelector","form","output","btnToLoadMoreFilms","img","querySelectorAll","trigger","nav","home","fetcher","fetch","then","response","json","data","results","amount","counter","mass","value","console","log","map","elem","poster_path","insertAdjacentHTML","id","vote_average","title","overview","localStorage","setItem","JSON","stringify","addEventListener","e","preventDefault","innerHTML","join","target","nodeName","swal","dataset","description","button","closest","parse","getItem","every","push","classList","toggle"],"mappings":"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","file":"main.8c4765c59aa5aba00069.js","sourcesContent":["export const link = {\r\n\tlist: document.querySelector(\".list\"),\r\n\tform: document.querySelector(\".form\"),\r\n\toutput: document.querySelector(\".output\"),\r\n\tbtnToLoadMoreFilms: document.querySelector(\".load-more--films\"),\r\n\timg: document.querySelectorAll(\".list-item__image\"),\r\n\ttrigger: document.querySelector(\".trigger\"),\r\n\tnav: document.querySelector(\".navigation\"),\r\n\thome: document.querySelector(\".home\"),\r\n\tfetcher: fetch(\r\n\t\t\"https://api.themoviedb.org/3/movie/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=1\"\r\n\t)\r\n\t\t.then(response => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\treturn data.results;\r\n\t\t})\r\n};\r\n","import \"./styles.css\";\r\nimport { link } from \"./refs/refs\";\r\nimport swal from \"sweetalert\";\r\n\r\nlet amount = 2;\r\nlet counter = 2;\r\nconst mass = [];\r\n\r\nlink.fetcher.then(value => {\r\n\tconsole.log(value);\r\n\tvalue.map(elem => {\r\n\t\tif (elem.poster_path === null) {\r\n\t\t\treturn;\r\n\t\t} else if (elem.poster_path !== null) {\r\n\t\t\tlink.list.insertAdjacentHTML(\r\n\t\t\t\t\"beforeend\",\r\n\t\t\t\t`<li class = 'list-item' data-id = '${elem.id}'><div class = 'overage'>${elem.vote_average}</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/${elem.poster_path}' data-title = \"${elem.title}\" data-description = \"${elem.overview}\"><h3 class = 'heading'>${elem.title}</h3></li>`\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n});\r\n\r\nconst changeFindFilm = e => {\r\n\te.preventDefault();\r\n\r\n\tif (link.output.value !== \"\") {\r\n\t\tfetch(\r\n\t\t\t`https://api.themoviedb.org/3/search/movie?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=1&include_adult=false&query=${link.output.value}`\r\n\t\t)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tlink.list.innerHTML = `${data.results\r\n\t\t\t\t\t.map(elem => {\r\n\t\t\t\t\t\tif (elem.poster_path === null) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} else if (elem.poster_path !== null) {\r\n\t\t\t\t\t\t\treturn `<li class = 'list-item ${elem.id}'><div class = 'overage'>${elem.vote_average}</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/${elem.poster_path}' data-title = \"${elem.title}\" data-description = \"${elem.overview}\"><h3 class = 'heading'>${elem.title}</h3></li>`;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.join(\"\")}`;\r\n\t\t\t});\r\n\t} else if (link.output.value === \"\") {\r\n\t\tlink.fetcher.then(value => {\r\n\t\t\tlink.list.innerHTML = `${value\r\n\t\t\t\t.map(elem => {\r\n\t\t\t\t\tif (elem.poster_path === null) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (elem.poster_path !== null) {\r\n\t\t\t\t\t\treturn `<li class = 'list-item ${elem.id}'><div class = 'overage'>${elem.vote_average}</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/${elem.poster_path}' data-title = \"${elem.title}\" data-description = \"${elem.overview}\"><h3 class = 'heading'>${elem.title}</h3></li>`;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.join(\"\")}`;\r\n\t\t});\r\n\t}\r\n};\r\n\r\nconst loadMoreFilms = e => {\r\n\te.preventDefault();\r\n\r\n\tif (link.output.value !== \"\") {\r\n\t\tcounter = 2;\r\n\r\n\t\tfetch(\r\n\t\t\t`https://api.themoviedb.org/3/search/movie?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=${amount++}&include_adult=false&query=${\r\n\t\t\t\tlink.output.value\r\n\t\t\t}`\r\n\t\t)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\treturn data.results.map(elem => {\r\n\t\t\t\t\tif (elem.poster_path === null) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (elem.poster_path !== null) {\r\n\t\t\t\t\t\tlink.list.insertAdjacentHTML(\r\n\t\t\t\t\t\t\t\"beforeend\",\r\n\t\t\t\t\t\t\t`<li class = 'list-item ${elem.id}'><div class = 'overage'>${elem.vote_average}</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/${elem.poster_path}' data-title = \"${elem.title}\" data-description = \"${elem.overview}\"><h3 class = 'heading'>${elem.title}</h3></li>`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t} else if (link.output.value === \"\") {\r\n\t\tamount = 2;\r\n\r\n\t\tfetch(\r\n\t\t\t`https://api.themoviedb.org/3/movie/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=${counter++}`\r\n\t\t)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\treturn data.results.map(elem => {\r\n\t\t\t\t\tif (elem.poster_path === null) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (elem.poster_path !== null) {\r\n\t\t\t\t\t\tlink.list.insertAdjacentHTML(\r\n\t\t\t\t\t\t\t\"beforeend\",\r\n\t\t\t\t\t\t\t`<li class = 'list-item ${elem.id}'><div class = 'overage'>${elem.vote_average}</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/${elem.poster_path}' data-title = \"${elem.title}\" data-description = \"${elem.overview}\"><h3 class = 'heading'>${elem.title}</h3></li>`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n};\r\n\r\nconst whatIsThis = e => {\r\n\te.preventDefault();\r\n\r\n\tif (e.target.nodeName !== \"IMG\") {\r\n\t\treturn;\r\n\t} else {\r\n\t\tswal(`${e.target.dataset.title}`, `${e.target.dataset.description}`, {\r\n\t\t\tbutton: \"close\"\r\n\t\t});\r\n\t}\r\n};\r\n\r\nconst goHome = e => {\r\n\te.preventDefault();\r\n\r\n\tcounter = 2;\r\n\r\n\tlink.fetcher.then(value => {\r\n\t\tvalue.map(elem => {\r\n\t\t\tlink.list.innerHTML = `${value\r\n\t\t\t\t.map(elem => {\r\n\t\t\t\t\tif (elem.poster_path === null) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (elem.poster_path !== null) {\r\n\t\t\t\t\t\treturn `<li class = 'list-item ${elem.id}'><div class = 'overage'>${elem.vote_average}</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/${elem.poster_path}' data-title = \"${elem.title}\" data-description = \"${elem.overview}\"><h3 class = 'heading'>${elem.title}</h3></li>`;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.join(\"\")}`;\r\n\t\t});\r\n\t});\r\n\r\n\tlink.output.value = \"\";\r\n};\r\n\r\nlocalStorage.setItem(\"favorite\", JSON.stringify(mass));\r\n\r\nconst close = e => {\r\n\tconst id = e.target.closest(\"li\").dataset.id;\r\n\r\n\tfetch(\r\n\t\t`https://api.themoviedb.org/3/movie/${id}?api_key=e9f6322f77334e3f0406d6b8eabd79ce`\r\n\t)\r\n\t\t.then(response => response.json())\r\n\t\t.then(data => {\r\n\t\t\tconst favoriteId = JSON.parse(localStorage.getItem(\"favorite\"));\r\n\r\n\t\t\tif (!favoriteId.every(elem => elem.id === id)) {\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tmass.push(data);\r\n\t\t\t\tlocalStorage.setItem(\"favorite\", JSON.stringify(mass));\r\n\t\t\t}\r\n\t\t});\r\n};\r\n\r\nlink.home.addEventListener(\"click\", goHome);\r\nlink.list.addEventListener(\"click\", whatIsThis);\r\nlink.btnToLoadMoreFilms.addEventListener(\"click\", loadMoreFilms);\r\nlink.form.addEventListener(\"submit\", changeFindFilm);\r\nlink.list.addEventListener(\"click\", close);\r\n\r\nconst rotate = () => {\r\n\tlink.nav.classList.toggle(\"open\");\r\n\tlink.trigger.classList.toggle(\"rotate-trigger\");\r\n};\r\n\r\nlink.trigger.addEventListener(\"click\", rotate);\r\n"],"sourceRoot":""}