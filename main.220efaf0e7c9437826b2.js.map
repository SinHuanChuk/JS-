{"version":3,"sources":["webpack:///./refs/refs.js","webpack:///./index.js"],"names":["link","list","document","querySelector","form","output","btnToLoadMoreFilms","img","querySelectorAll","fetcher","fetch","then","response","json","data","results","amount","counter","value","console","log","map","elem","poster_path","insertAdjacentHTML","title","overview","addEventListener","e","preventDefault","target","nodeName","swal","dataset","description","button","innerHTML","join"],"mappings":"mMAAaA,EAAO,CACnBC,KAAMC,SAASC,cAAc,SAC7BC,KAAMF,SAASC,cAAc,SAC7BE,OAAQH,SAASC,cAAc,WAC/BG,mBAAoBJ,SAASC,cAAc,qBAC3CI,IAAKL,SAASM,iBAAiB,qBAE/BC,QAASC,MACR,6GAECC,MAAK,SAAAC,GACL,OAAOA,EAASC,UAEhBF,MAAK,SAAAG,GACL,OAAOA,EAAKC,Y,qBCVXC,EAAS,EACTC,EAAU,EAEdjB,EAAKS,QAAQE,MAAK,SAAAO,GACjBC,QAAQC,IAAIF,GACZA,EAAMG,KAAI,SAAAC,GACgB,OAArBA,EAAKC,aAEuB,OAArBD,EAAKC,aACfvB,EAAKC,KAAKuB,mBACT,YADD,mGAEoGF,EAAKC,YAFzG,oBAEuID,EAAKG,MAF5I,yBAE0KH,EAAKI,SAF/K,4BAEkNJ,EAAKG,MAFvN,qBA0GHzB,EAAKC,KAAK0B,iBAAiB,SAZR,SAAAC,GAClBA,EAAEC,iBAEwB,QAAtBD,EAAEE,OAAOC,UAGZC,IAAK,GAAGJ,EAAEE,OAAOG,QAAQR,MAArB,GAAiCG,EAAEE,OAAOG,QAAQC,YAAe,CACpEC,OAAQ,aAMXnC,EAAKM,mBAAmBqB,iBAAiB,SA/DnB,SAAAC,GACrBA,EAAEC,iBAEwB,KAAtB7B,EAAKK,OAAOa,OACfD,EAAU,EAEVP,MAAM,0GACqGM,IADtG,8BAEHhB,EAAKK,OAAOa,OAGZP,MAAK,SAAAC,GACL,OAAOA,EAASC,UAEhBF,MAAK,SAAAG,GACL,OAAOA,EAAKC,QAAQM,KAAI,SAAAC,GACE,OAArBA,EAAKC,aAEuB,OAArBD,EAAKC,aACfvB,EAAKC,KAAKuB,mBACT,YADD,mGAEoGF,EAAKC,YAFzG,oBAEuID,EAAKG,MAF5I,yBAE0KH,EAAKI,SAF/K,4BAEkNJ,EAAKG,MAFvN,sBAO4B,KAAtBzB,EAAKK,OAAOa,QACtBF,EAAS,EAETN,MAAM,2GACsGO,KAE1GN,MAAK,SAAAC,GACL,OAAOA,EAASC,UAEhBF,MAAK,SAAAG,GACL,OAAOA,EAAKC,QAAQM,KAAI,SAAAC,GACE,OAArBA,EAAKC,aAEuB,OAArBD,EAAKC,aACfvB,EAAKC,KAAKuB,mBACT,YADD,mGAEoGF,EAAKC,YAFzG,oBAEuID,EAAKG,MAF5I,yBAE0KH,EAAKI,SAF/K,4BAEkNJ,EAAKG,MAFvN,yBAwBNzB,EAAKI,KAAKuB,iBAAiB,UApGJ,SAAAC,GACtBA,EAAEC,iBAEwB,KAAtB7B,EAAKK,OAAOa,MACfR,MAAM,sIACiIV,EAAKK,OAAOa,OAEjJP,MAAK,SAAAC,GACL,OAAOA,EAASC,UAEhBF,MAAK,SAAAG,GACLd,EAAKC,KAAKmC,UAAV,GAAyBtB,EAAKC,QAC5BM,KAAI,SAAAC,GACJ,GAAyB,OAArBA,EAAKC,YAEF,OAAyB,OAArBD,EAAKC,YACf,mGAA0GD,EAAKC,YAA/G,oBAA6ID,EAAKG,MAAlJ,yBAAgLH,EAAKI,SAArL,4BAAwNJ,EAAKG,MAA7N,mBADM,KAIPY,KAAK,OAEuB,KAAtBrC,EAAKK,OAAOa,OACtBlB,EAAKS,QAAQE,MAAK,SAAAO,GACjBlB,EAAKC,KAAKmC,UAAV,GAAyBlB,EACvBG,KAAI,SAAAC,GACJ,GAAyB,OAArBA,EAAKC,YAEF,OAAyB,OAArBD,EAAKC,YACf,mGAA0GD,EAAKC,YAA/G,oBAA6ID,EAAKG,MAAlJ,yBAAgLH,EAAKI,SAArL,4BAAwNJ,EAAKG,MAA7N,mBADM,KAIPY,KAAK,Y","file":"main.220efaf0e7c9437826b2.js","sourcesContent":["export const link = {\r\n\tlist: document.querySelector(\".list\"),\r\n\tform: document.querySelector(\".form\"),\r\n\toutput: document.querySelector(\".output\"),\r\n\tbtnToLoadMoreFilms: document.querySelector(\".load-more--films\"),\r\n\timg: document.querySelectorAll(\".list-item__image\"),\r\n\r\n\tfetcher: fetch(\r\n\t\t\"https://api.themoviedb.org/3/movie/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=1\"\r\n\t)\r\n\t\t.then(response => {\r\n\t\t\treturn response.json();\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\treturn data.results;\r\n\t\t})\r\n};\r\n","import \"./styles.css\";\r\nimport { link } from \"./refs/refs\";\r\nimport swal from \"sweetalert\";\r\n\r\nlet amount = 2;\r\nlet counter = 2;\r\n\r\nlink.fetcher.then(value => {\r\n\tconsole.log(value);\r\n\tvalue.map(elem => {\r\n\t\tif (elem.poster_path === null) {\r\n\t\t\treturn;\r\n\t\t} else if (elem.poster_path !== null) {\r\n\t\t\tlink.list.insertAdjacentHTML(\r\n\t\t\t\t\"beforeend\",\r\n\t\t\t\t`<div class = 'list-item'><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/${elem.poster_path}' data-title = \"${elem.title}\" data-description = \"${elem.overview}\"><h3 class = 'heading'>${elem.title}</h3></div>`\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n});\r\n\r\nconst changeFindFilm = e => {\r\n\te.preventDefault();\r\n\r\n\tif (link.output.value !== \"\") {\r\n\t\tfetch(\r\n\t\t\t`https://api.themoviedb.org/3/search/movie?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=1&include_adult=false&query=${link.output.value}`\r\n\t\t)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\tlink.list.innerHTML = `${data.results\r\n\t\t\t\t\t.map(elem => {\r\n\t\t\t\t\t\tif (elem.poster_path === null) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} else if (elem.poster_path !== null) {\r\n\t\t\t\t\t\t\treturn `<div class = 'list-item'><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/${elem.poster_path}' data-title = \"${elem.title}\" data-description = \"${elem.overview}\"><h3 class = 'heading'>${elem.title}</h3></div>`;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.join(\"\")}`;\r\n\t\t\t});\r\n\t} else if (link.output.value === \"\") {\r\n\t\tlink.fetcher.then(value => {\r\n\t\t\tlink.list.innerHTML = `${value\r\n\t\t\t\t.map(elem => {\r\n\t\t\t\t\tif (elem.poster_path === null) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (elem.poster_path !== null) {\r\n\t\t\t\t\t\treturn `<div class = 'list-item'><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/${elem.poster_path}' data-title = \"${elem.title}\" data-description = \"${elem.overview}\"><h3 class = 'heading'>${elem.title}</h3></div>`;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.join(\"\")}`;\r\n\t\t});\r\n\t}\r\n};\r\n\r\nconst loadMoreFilms = e => {\r\n\te.preventDefault();\r\n\r\n\tif (link.output.value !== \"\") {\r\n\t\tcounter = 2;\r\n\r\n\t\tfetch(\r\n\t\t\t`https://api.themoviedb.org/3/search/movie?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=${amount++}&include_adult=false&query=${\r\n\t\t\t\tlink.output.value\r\n\t\t\t}`\r\n\t\t)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\treturn data.results.map(elem => {\r\n\t\t\t\t\tif (elem.poster_path === null) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (elem.poster_path !== null) {\r\n\t\t\t\t\t\tlink.list.insertAdjacentHTML(\r\n\t\t\t\t\t\t\t\"beforeend\",\r\n\t\t\t\t\t\t\t`<div class = 'list-item'><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/${elem.poster_path}' data-title = \"${elem.title}\" data-description = \"${elem.overview}\"><h3 class = 'heading'>${elem.title}</h3></div>`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t} else if (link.output.value === \"\") {\r\n\t\tamount = 2;\r\n\r\n\t\tfetch(\r\n\t\t\t`https://api.themoviedb.org/3/movie/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=${counter++}`\r\n\t\t)\r\n\t\t\t.then(response => {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(data => {\r\n\t\t\t\treturn data.results.map(elem => {\r\n\t\t\t\t\tif (elem.poster_path === null) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (elem.poster_path !== null) {\r\n\t\t\t\t\t\tlink.list.insertAdjacentHTML(\r\n\t\t\t\t\t\t\t\"beforeend\",\r\n\t\t\t\t\t\t\t`<div class = 'list-item'><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/${elem.poster_path}' data-title = \"${elem.title}\" data-description = \"${elem.overview}\"><h3 class = 'heading'>${elem.title}</h3></div>`\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n};\r\n\r\nconst whatIsThis = e => {\r\n\te.preventDefault();\r\n\r\n\tif (e.target.nodeName !== \"IMG\") {\r\n\t\treturn;\r\n\t} else {\r\n\t\tswal(`${e.target.dataset.title}`, `${e.target.dataset.description}`, {\r\n\t\t\tbutton: \"close\"\r\n\t\t});\r\n\t}\r\n};\r\n\r\nlink.list.addEventListener(\"click\", whatIsThis);\r\nlink.btnToLoadMoreFilms.addEventListener(\"click\", loadMoreFilms);\r\nlink.form.addEventListener(\"submit\", changeFindFilm);\r\n"],"sourceRoot":""}