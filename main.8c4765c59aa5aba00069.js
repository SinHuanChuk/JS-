(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(t,e,i){},QfWi:function(t,e,i){"use strict";i.r(e);i("iPZ8"),i("kypl"),i("7qfE"),i("8cZI"),i("lmye"),i("JBxO"),i("FdtR"),i("L1EO");var a={list:document.querySelector(".list"),form:document.querySelector(".form"),output:document.querySelector(".output"),btnToLoadMoreFilms:document.querySelector(".load-more--films"),img:document.querySelectorAll(".list-item__image"),trigger:document.querySelector(".trigger"),nav:document.querySelector(".navigation"),home:document.querySelector(".home"),fetcher:fetch("https://api.themoviedb.org/3/movie/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=1").then((function(t){return t.json()})).then((function(t){return t.results}))},n=i("5var"),o=i.n(n),r=2,s=2,l=[];a.fetcher.then((function(t){console.log(t),t.map((function(t){null!==t.poster_path&&null!==t.poster_path&&a.list.insertAdjacentHTML("beforeend","<li class = 'list-item' data-id = '"+t.id+"'><div class = 'overage'>"+t.vote_average+"</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/"+t.poster_path+"' data-title = \""+t.title+'" data-description = "'+t.overview+"\"><h3 class = 'heading'>"+t.title+"</h3></li>")}))}));localStorage.setItem("favorite",JSON.stringify(l));a.home.addEventListener("click",(function(t){t.preventDefault(),s=2,a.fetcher.then((function(t){t.map((function(e){a.list.innerHTML=""+t.map((function(t){if(null!==t.poster_path)return null!==t.poster_path?"<li class = 'list-item "+t.id+"'><div class = 'overage'>"+t.vote_average+"</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/"+t.poster_path+"' data-title = \""+t.title+'" data-description = "'+t.overview+"\"><h3 class = 'heading'>"+t.title+"</h3></li>":void 0})).join("")}))})),a.output.value=""})),a.list.addEventListener("click",(function(t){t.preventDefault(),"IMG"===t.target.nodeName&&o()(""+t.target.dataset.title,""+t.target.dataset.description,{button:"close"})})),a.btnToLoadMoreFilms.addEventListener("click",(function(t){t.preventDefault(),""!==a.output.value?(s=2,fetch("https://api.themoviedb.org/3/search/movie?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page="+r+++"&include_adult=false&query="+a.output.value).then((function(t){return t.json()})).then((function(t){return t.results.map((function(t){null!==t.poster_path&&null!==t.poster_path&&a.list.insertAdjacentHTML("beforeend","<li class = 'list-item "+t.id+"'><div class = 'overage'>"+t.vote_average+"</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/"+t.poster_path+"' data-title = \""+t.title+'" data-description = "'+t.overview+"\"><h3 class = 'heading'>"+t.title+"</h3></li>")}))}))):""===a.output.value&&(r=2,fetch("https://api.themoviedb.org/3/movie/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page="+s++).then((function(t){return t.json()})).then((function(t){return t.results.map((function(t){null!==t.poster_path&&null!==t.poster_path&&a.list.insertAdjacentHTML("beforeend","<li class = 'list-item "+t.id+"'><div class = 'overage'>"+t.vote_average+"</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/"+t.poster_path+"' data-title = \""+t.title+'" data-description = "'+t.overview+"\"><h3 class = 'heading'>"+t.title+"</h3></li>")}))})))})),a.form.addEventListener("submit",(function(t){t.preventDefault(),""!==a.output.value?fetch("https://api.themoviedb.org/3/search/movie?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page=1&include_adult=false&query="+a.output.value).then((function(t){return t.json()})).then((function(t){a.list.innerHTML=""+t.results.map((function(t){if(null!==t.poster_path)return null!==t.poster_path?"<li class = 'list-item "+t.id+"'><div class = 'overage'>"+t.vote_average+"</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/"+t.poster_path+"' data-title = \""+t.title+'" data-description = "'+t.overview+"\"><h3 class = 'heading'>"+t.title+"</h3></li>":void 0})).join("")})):""===a.output.value&&a.fetcher.then((function(t){a.list.innerHTML=""+t.map((function(t){if(null!==t.poster_path)return null!==t.poster_path?"<li class = 'list-item "+t.id+"'><div class = 'overage'>"+t.vote_average+"</div><img class = 'list-item__image' src = 'https://image.tmdb.org/t/p/w500/"+t.poster_path+"' data-title = \""+t.title+'" data-description = "'+t.overview+"\"><h3 class = 'heading'>"+t.title+"</h3></li>":void 0})).join("")}))})),a.list.addEventListener("click",(function(t){var e=t.target.closest("li").dataset.id;fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key=e9f6322f77334e3f0406d6b8eabd79ce").then((function(t){return t.json()})).then((function(t){JSON.parse(localStorage.getItem("favorite")).every((function(t){return t.id===e}))&&(l.push(t),localStorage.setItem("favorite",JSON.stringify(l)))}))}));a.trigger.addEventListener("click",(function(){a.nav.classList.toggle("open"),a.trigger.classList.toggle("rotate-trigger")}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.8c4765c59aa5aba00069.js.map